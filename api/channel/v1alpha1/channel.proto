syntax = "proto3";

package hvxahv.v1alpha1.proto;
option go_package = "github.com/hvxahv/hvxahv/api/channel/v1alpha1/v1alpha1";

service Channel {
  // New Create Channel.
  rpc New (NewChannelData) returns (NewChannelReply) {}

  // NewAdmin Add Channel Admins.
  rpc NewAdmin (NewAdminData) returns (ChannelReply) {}

  // NewSubscribers New Subscriber.
  rpc NewSubscriber (NewSubscriberData) returns (ChannelReply) {}

  // GetSubscribers Get channel subscribers.
  rpc GetSubscribers (NewChannelByID) returns (GetSubscribersReply) {}
}

message ChannelReply {
  int32  code = 1;
  string message = 2;
}

/**
  NEW
 */
message NewChannelData {
  string id = 1;
  string name = 2;
  string bio = 3;
  string avatar = 4;
  string owner = 5;
  bool   isPrivate = 6;
}

message NewChannelReply {
  int32  code = 1;
  string message = 2;
  string id = 3;
}

/**
  NewAdmin
 */
message NewAdminData {
  string owner = 1;
  string id = 2;
  string admin = 3;
}

/**
  NewSubscribers
 */
message NewSubscriberData {
  string name = 1;
  string id = 2;
}

/**
  GetSubscribers
 */
message NewChannelByID {
  string id = 1;
}

message GetSubscribersReply {
  int32  code = 1;
  string message = 2;
}